@{
    ViewData["Title"] = "YetkiliyeBildir - Anasayfa";
}
<div class="container-xxl p-3 p-lg-5">
    <div class="row justify-content-center">
        <div class="col-lg-12">
            <div class="text-center mb-5">
                <h1 class="display-4 fw-bold mb-3 text-theme" style="font-family:'Inter','Roboto',Arial,sans-serif;font-weight:700;letter-spacing:-1px;">YetkiliyeBildir</h1>
                <p class="fs-18px text-body text-opacity-75 mb-4" style="font-family:'Inter','Roboto',Arial,sans-serif;font-size:18px;">Vatandaş ile yetkili kurumları buluşturan, sorunların hızlıca çözülmesini sağlayan dijital platform.</p>
            </div>
            <div class="card border-0 rounded-4 shadow mb-4 bg-light">
                <div class="card-body p-4">
                    <h4 class="fw-bold mb-4 text-theme" style="font-family:'Inter','Roboto',Arial,sans-serif;font-weight:700;">Nasıl Çalışır?</h4>
                    <div class="row g-3">
                        <div class="col-md-6 d-flex align-items-start">
                            <div class="bg-blue bg-opacity-15 text-blue rounded-3 p-3 me-3 d-flex align-items-center justify-content-center" style="width:48px;height:48px;">
                                <i class="fa fa-bullhorn fa-2x"></i>
                            </div>
                            <div>
                                <div class="fw-semibold mb-1">Sorunu veya ihbarı kolayca bildir.</div>
                                <div class="text-body text-opacity-75 small">Kısa sürede bildirim oluşturun.</div>
                            </div>
                        </div>
                        <div class="col-md-6 d-flex align-items-start">
                            <div class="bg-warning bg-opacity-15 text-warning rounded-3 p-3 me-3 d-flex align-items-center justify-content-center" style="width:48px;height:48px;">
                                <i class="fa fa-camera fa-2x"></i>
                            </div>
                            <div>
                                <div class="fw-semibold mb-1">Konum ve fotoğraf ekle, açıklama yaz.</div>
                                <div class="text-body text-opacity-75 small">Detaylı bilgi iletimi sağlar.</div>
                            </div>
                        </div>
                        <div class="col-md-6 d-flex align-items-start">
                            <div class="bg-cyan bg-opacity-15 text-cyan rounded-3 p-3 me-3 d-flex align-items-center justify-content-center" style="width:48px;height:48px;">
                                <i class="fa fa-paper-plane fa-2x"></i>
                            </div>
                            <div>
                                <div class="fw-semibold mb-1">Bildirimin ilgili kuruma otomatik iletilir.</div>
                                <div class="text-body text-opacity-75 small">Sistem otomasyonu ile hızlı iletim.</div>
                            </div>
                        </div>
                        <div class="col-md-6 d-flex align-items-start">
                            <div class="bg-green bg-opacity-15 text-green rounded-3 p-3 me-3 d-flex align-items-center justify-content-center" style="width:48px;height:48px;">
                                <i class="fa fa-check-circle fa-2x"></i>
                            </div>
                            <div>
                                <div class="fw-semibold mb-1">Yetkililer ihbarı panelden yönetir ve çözüme kavuşturur.</div>
                                <div class="text-body text-opacity-75 small">Sürecin takibi ve çözüm.</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row g-3 mb-4">
                <div class="col-md-6">
                    <div class="card h-100 border-0 rounded-4 shadow text-center bg-white">
                        <div class="card-body p-4">
                            <div class="mb-3">
                                <i class="fa fa-user fa-2x text-theme"></i>
                            </div>
                            <h5 class="fw-bold mb-2" style="font-family:'Inter','Roboto',Arial,sans-serif;font-weight:700;">Vatandaşlar için</h5>
                            <ul class="list-unstyled mb-3">
                                <li>Hızlı ve kolay bildirim</li>
                                <li>Takip edilebilir süreç</li>
                                <li>Gizlilik ve güvenlik</li>
                            </ul>
                            @if (User.Identity != null && User.Identity.IsAuthenticated)
                            {
                                <a class="btn btn-theme rounded-pill px-4 fw-bold" style="font-family:'Inter','Roboto',Arial,sans-serif;font-weight:600;" href="/Report/Create">Bildirim Oluştur</a>
                            }
                            else
                            {
                                <a class="btn btn-theme rounded-pill px-4 fw-bold" style="font-family:'Inter','Roboto',Arial,sans-serif;font-weight:600;" href="/Account/Register">Kayıt Ol</a>
                            }
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card h-100 border-0 rounded-4 shadow text-center bg-white">
                        <div class="card-body p-4">
                            <div class="mb-3">
                                <i class="fa fa-building fa-2x text-indigo"></i>
                            </div>
                            <h5 class="fw-bold mb-2" style="font-family:'Inter','Roboto',Arial,sans-serif;font-weight:700;">Kurumlar için</h5>
                            <ul class="list-unstyled mb-3">
                                <li>Gelen ihbarları panelden yönet</li>
                                <li>Personel ekle, talepleri paylaş</li>
                                <li>Çözüm ve raporlama kolaylığı</li>
                            </ul>
                            <a class="btn btn-indigo rounded-pill px-4 fw-bold" style="font-family:'Inter','Roboto',Arial,sans-serif;font-weight:600;" href="/Account/YetkiliRegister">Yetkili olmak için tıklayın</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="alert alert-info text-center rounded-4 shadow-sm p-4 bg-blue bg-opacity-10 border-0" style="font-family:'Inter','Roboto',Arial,sans-serif;font-size:16px;">
                <i class="fa fa-shield-alt fa-2x text-blue me-2 align-middle"></i>
                <b>YetkiliyeBildir</b> ile şehirlerimiz daha güvenli, daha düzenli!
            </div>
        </div>
    </div>
</div>

<!-- REFERANSLAR/GERİ BİLDİRİMLER ALANI BAŞLANGIÇ -->
<div class="py-5" style="background:#f3f6fa;">
    <div class="container-xxl p-3 p-lg-5">
        <div class="text-center mb-5">
            <h1 class="mb-3 text-center" style="font-family:'Inter','Roboto',Arial,sans-serif;font-weight:700;">Kullanıcılarımız Ne Diyor?</h1>
            <p class="fs-16px text-body text-opacity-50 text-center mb-0" style="font-family:'Inter','Roboto',Arial,sans-serif;">YetkiliyeBildir'i kullanan vatandaş ve kurum temsilcilerinin deneyimlerini okuyun. Platformumuzun sunduğu kolaylıklar ve hızlı çözümler hakkında gerçek kullanıcı yorumları.</p>
        </div>
        <div class="row g-4 justify-content-center">
            <div class="col-lg-4 col-md-6">
                <div class="card p-4 border-0 h-100 rounded-5 shadow bg-white" style="min-height: 280px;">
                    <div class="d-flex align-items-center mb-3">
                        <img src="/assets/img/user/user.jpg" class="rounded-circle me-3 w-50px" alt="Vatandaş">
                        <div>
                            <h5 class="mb-0">Ayşe K.</h5>
                            <small class="text-muted">Vatandaş</small>
                        </div>
                    </div>
                    <div class="mb-4 d-flex flex-grow-1">
                        <i class="fa fa-quote-left fa-2x text-body text-opacity-15"></i>
                        <div class="p-3 flex-grow-1">
                            <div class="text-warning d-flex mb-2">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                            </div>
                            <p class="mb-0">Bildirdiğim sorun çok kısa sürede çözüldü. Takip edilebilir süreç ve bilgilendirmeler harika!</p>
                        </div>
                        <div class="d-flex align-items-end">
                            <i class="fa fa-quote-right fa-2x text-body text-opacity-15"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="card p-4 border-0 h-100 rounded-5 shadow bg-white" style="min-height: 280px;">
                    <div class="d-flex align-items-center mb-3">
                        <img src="/assets/img/user/user-7.jpg" class="rounded-circle me-3 w-50px" alt="Kurum Yetkilisi">
                        <div>
                            <h5 class="mb-0">Mehmet Y.</h5>
                            <small class="text-muted">Kurum Yetkilisi</small>
                        </div>
                    </div>
                    <div class="mb-4 d-flex flex-grow-1">
                        <i class="fa fa-quote-left fa-2x text-body text-opacity-15"></i>
                        <div class="p-3 flex-grow-1">
                            <div class="text-warning d-flex mb-2">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star-half-alt"></i>
                            </div>
                            <p class="mb-0">İhbarları panelden yönetmek çok pratik. Vatandaşlarla iletişim ve çözüm süreçleri hızlandı.</p>
                        </div>
                        <div class="d-flex align-items-end">
                            <i class="fa fa-quote-right fa-2x text-body text-opacity-15"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="card p-4 border-0 h-100 rounded-5 shadow bg-white" style="min-height: 280px;">
                    <div class="d-flex align-items-center mb-3">
                        <img src="/assets/img/user/user-10.jpg" class="rounded-circle me-3 w-50px" alt="Vatandaş">
                        <div>
                            <h5 class="mb-0">Zeynep T.</h5>
                            <small class="text-muted">Vatandaş</small>
                        </div>
                    </div>
                    <div class="mb-4 d-flex flex-grow-1">
                        <i class="fa fa-quote-left fa-2x text-body text-opacity-15"></i>
                        <div class="p-3 flex-grow-1">
                            <div class="text-warning d-flex mb-2">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                            </div>
                            <p class="mb-0">Mobil bildirimler sayesinde süreci anlık takip edebildim. Herkese tavsiye ederim!</p>
                        </div>
                        <div class="d-flex align-items-end">
                            <i class="fa fa-quote-right fa-2x text-body text-opacity-15"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- REFERANSLAR/GERİ BİLDİRİMLER ALANI BİTİŞ -->

<!-- CANLI HARİTA VE SON BİLDİRİMLER ALANI BAŞLANGIÇ -->
<div class="py-5" style="background:#f8f9fa;">
    <div class="container-xxl p-3 p-lg-5">
        <div class="text-center mb-5">
            <h1 class="mb-3 text-center" style="font-family:'Inter','Roboto',Arial,sans-serif;font-weight:700;">Canlı Harita & Son Bildirimler</h1>
            <p class="fs-16px text-body text-opacity-50 text-center mb-0" style="font-family:'Inter','Roboto',Arial,sans-serif;">Şehrimizdeki güncel bildirimleri haritada görün ve son yapılan ihbarları takip edin.</p>
        </div>
        
        <div class="row g-4">
            <!-- Canlı Harita -->
            <div class="col-lg-8">
                <div class="card border-0 rounded-4 shadow h-100">
                    <div class="card-header bg-white border-0 rounded-top-4 p-4">
                        <h4 class="mb-0 fw-bold text-theme">
                            <i class="fa fa-map-marker-alt me-2"></i>Canlı Harita
                        </h4>
                        <p class="text-muted mb-0 small">Şehrimizdeki tüm bildirimlerin konumları</p>
                    </div>
                    <div class="card-body p-0">
                        <div id="harita" style="height: 400px; width: 100%;"></div>
                    </div>
                </div>
            </div>
            
            <!-- Son Bildirimler Paneli -->
            <div class="col-lg-4">
                <div class="card border-0 rounded-4 shadow h-100">
                    <div class="card-header bg-white border-0 rounded-top-4 p-4">
                        <h4 class="mb-0 fw-bold text-theme">
                            <i class="fa fa-bell me-2"></i>Son 5 Bildirim
                        </h4>
                        <p class="text-muted mb-0 small">En son yapılan ihbarlar</p>
                    </div>
                    <div class="card-body p-0">
                        <div class="list-group list-group-flush">
                            @if (ViewBag.SonBildirimler != null && ViewBag.SonBildirimler.Count > 0)
                            {
                                foreach (var bildirim in ViewBag.SonBildirimler)
                                {
                                    <div class="list-group-item border-0 p-3">
                                        <div class="d-flex align-items-start">
                                            <div class="me-3">
                                                @{
                                                    var statusClass = bildirim.Status.ToString() switch
                                                    {
                                                        "Bekliyor" => "bg-warning",
                                                        "Alindi" => "bg-info",
                                                        "Cozuldu" => "bg-success",
                                                        _ => "bg-secondary"
                                                    };
                                                    var statusText = bildirim.Status.ToString() switch
                                                    {
                                                        "Bekliyor" => "Bekliyor",
                                                        "Alindi" => "Alındı",
                                                        "Cozuldu" => "Çözüldü",
                                                        _ => bildirim.Status.ToString()
                                                    };
                                                }
                                                <span class="badge @statusClass rounded-pill px-2 py-1 small">@statusText</span>
                                            </div>
                                            <div class="flex-grow-1">
                                                <h6 class="mb-1 fw-semibold">@bildirim.Category</h6>
                                                <p class="mb-1 text-muted small">@(bildirim.Description.Length > 60 ? bildirim.Description.Substring(0, 60) + "..." : bildirim.Description)</p>
                                                <small class="text-muted">
                                                    <i class="fa fa-clock me-1"></i>@bildirim.CreatedAt.ToString("dd.MM.yyyy HH:mm")
                                                </small>
                                            </div>
                                        </div>
                                    </div>
                                }
                            }
                            else
                            {
                                <div class="list-group-item border-0 p-4 text-center">
                                    <i class="fa fa-inbox fa-2x text-muted mb-2"></i>
                                    <p class="text-muted mb-0">Henüz bildirim bulunmuyor</p>
                                </div>
                            }
                        </div>
                    </div>
                    <div class="card-footer bg-white border-0 rounded-bottom-4 p-3">
                        @if (User.Identity != null && User.Identity.IsAuthenticated)
                        {
                            <a href="/Report/Create" class="btn btn-theme btn-sm w-100">
                                <i class="fa fa-plus me-2"></i>Yeni Bildirim Oluştur
                            </a>
                        }
                        else
                        {
                            <a href="/Account/Login" class="btn btn-theme btn-sm w-100">
                                <i class="fa fa-sign-in-alt me-2"></i>Giriş Yap ve Bildirim Oluştur
                            </a>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- CANLI HARİTA VE SON BİLDİRİMLER ALANI BİTİŞ -->
<!-- BLOG/KARTLAR ALANI BAŞLANGIÇ -->
<div class="py-5">
    <div class="container-xxl p-3 p-lg-5">
        <div class="text-center mb-5">
            <h1 class="mb-3 text-center" style="font-family:'Inter','Roboto',Arial,sans-serif;font-weight:700;">Güncel Duyurular & Bilgilendirmeler</h1>
            <p class="fs-16px text-body text-opacity-50 text-center mb-0" style="font-family:'Inter','Roboto',Arial,sans-serif;">YetkiliyeBildir platformu ile ilgili en son gelişmeleri, ipuçlarını ve önemli duyuruları buradan takip edebilirsiniz.</p>
        </div>
        <div class="row g-4 mb-4 justify-content-center">
            <div class="col-xl-3 col-lg-4 col-sm-6">
                <div class="d-flex flex-column h-100 rounded-4 overflow-hidden shadow-lg bg-white">
                    <div>
                        <img src="/assets/img/landing/blog-1.jpg" alt="" class="object-fit-cover h-200px w-100 d-block">
                    </div>
                    <div class="flex-1 p-3 pb-0">
                        <div class="mb-2">
                            <span class="bg-theme bg-opacity-15 text-theme px-2 py-1 rounded small fw-bold">Sistem Güncellemesi</span>
                        </div>
                        <h5>Yeni İhbar Takip Paneli Yayında!</h5>
                        <p>Artık ihbarlarınızı daha kolay takip edebilir, süreçleri anlık olarak izleyebilirsiniz.</p>
                    </div>
                    <div class="p-3 pt-0 text-body text-opacity-50">Temmuz 2025</div>
                </div>
            </div>
            <div class="col-xl-3 col-lg-4 col-sm-6">
                <div class="d-flex flex-column h-100 rounded-4 overflow-hidden shadow-lg bg-white">
                    <div>
                        <img src="/assets/img/landing/blog-2.jpg" alt="" class="object-fit-cover h-200px w-100 d-block">
                    </div>
                    <div class="flex-1 p-3 pb-0">
                        <div class="mb-2">
                            <span class="bg-indigo bg-opacity-15 text-indigo px-2 py-1 rounded small fw-bold">Kullanıcı Deneyimi</span>
                        </div>
                        <h5>Mobil Bildirimler Aktif!</h5>
                        <p>İhbar süreçlerinizle ilgili bildirimleri artık mobil cihazınızdan da alabilirsiniz.</p>
                    </div>
                    <div class="p-3 pt-0 text-body text-opacity-50">Haziran 2025</div>
                </div>
            </div>
            <div class="col-xl-3 col-lg-4 col-sm-6">
                <div class="d-flex flex-column h-100 rounded-4 overflow-hidden shadow-lg bg-white">
                    <div>
                        <img src="/assets/img/landing/blog-3.jpg" alt="" class="object-fit-cover h-200px w-100 d-block">
                    </div>
                    <div class="flex-1 p-3 pb-0">
                        <div class="mb-2">
                            <span class="bg-cyan bg-opacity-15 text-cyan px-2 py-1 rounded small fw-bold">Güvenlik</span>
                        </div>
                        <h5>Veri Güvenliği Artırıldı</h5>
                        <p>Kişisel verileriniz ve ihbar bilgileriniz artık daha güvenli şekilde saklanıyor.</p>
                    </div>
                    <div class="p-3 pt-0 text-body text-opacity-50">Mayıs 2025</div>
                </div>
            </div>
            <div class="col-xl-3 col-lg-4 col-sm-6">
                <div class="d-flex flex-column h-100 rounded-4 overflow-hidden shadow-lg bg-white">
                    <div>
                        <img src="/assets/img/landing/blog-4.jpg" alt="" class="object-fit-cover h-200px w-100 d-block">
                    </div>
                    <div class="flex-1 p-3 pb-0">
                        <div class="mb-2">
                            <span class="bg-warning bg-opacity-15 text-warning px-2 py-1 rounded small fw-bold">Duyuru</span>
                        </div>
                        <h5>Hafta Sonu Bakım Çalışması</h5>
                        <p>Platformumuzda 27-28 Temmuz tarihlerinde bakım çalışması yapılacaktır.</p>
                    </div>
                    <div class="p-3 pt-0 text-body text-opacity-50">Temmuz 2025</div>
                </div>
            </div>
        </div>
        <div class="text-center">
            <a href="#" class="text-decoration-none text-body text-opacity-50 h6">Tüm Duyuruları Gör <i class="fa fa-arrow-right ms-3"></i></a>
        </div>
    </div>
</div>
<!-- BLOG/KARTLAR ALANI BİTİŞ -->
<!-- İLETİŞİM BLOĞU BAŞLANGIÇ -->
<div class="py-5" style="background:#f3f6fa;">
    <div class="container-xl p-3 p-lg-5">
        <div class="text-center mb-5">
            <h1 class="mb-3 text-center" style="font-family:'Inter','Roboto',Arial,sans-serif;font-weight:700;">İletişime Geçin</h1>
            <p class="fs-16px text-body text-opacity-50 text-center mb-0" style="font-family:'Inter','Roboto',Arial,sans-serif;">Sorularınız, önerileriniz veya iş birliği talepleriniz için bize ulaşın. Size yardımcı olmaktan memnuniyet duyarız!</p>
        </div>
        <div class="row gx-3 gx-lg-5">
            <div class="col-lg-6">
                <h4 style="font-family:'Inter','Roboto',Arial,sans-serif;font-weight:700;">Projenizi Bizimle Paylaşın</h4>
                <p>Bir projeniz mi var? Görüşmek ve fikirlerinizi dinlemek için sabırsızlanıyoruz. Danışmak, soru sormak veya öneride bulunmak için bize ulaşabilirsiniz.</p>
                <p>
                    <span class="fw-bolder">YetkiliyeBildir Ekibi</span><br>
                    795 Folsom Cad., Suite 600<br>
                    İstanbul, Türkiye<br><br>
                    Pazartesi - Cuma: 09:00 - 18:00<br>
                    Cumartesi - Pazar: Kapalı<br><br>
                    Telefon: <a href="#" class="text-theme">(0212) 123 45 67</a><br>
                    E-posta: <a href="mailto:destek@yetkiliyebildir.com" class="text-theme">destek@yetkiliyebildir.com</a>
                </p>
            </div>
            <div class="col-lg-6">
                <form method="post" name="form_iletisim">
                    <div class="row gy-3 mb-3">
                        <div class="col-6">
                            <label class="form-label">Adınız <span class="text-theme">*</span></label>
                            <input type="text" class="form-control form-control-lg fs-15px" required>
                        </div>
                        <div class="col-6">
                            <label class="form-label">Soyadınız <span class="text-theme">*</span></label>
                            <input type="text" class="form-control form-control-lg fs-15px" required>
                        </div>
                        <div class="col-6">
                            <label class="form-label">E-posta <span class="text-theme">*</span></label>
                            <input type="email" class="form-control form-control-lg fs-15px" required>
                        </div>
                        <div class="col-6">
                            <label class="form-label">Telefon <span class="text-theme">*</span></label>
                            <input type="text" class="form-control form-control-lg fs-15px" required>
                        </div>
                        <div class="col-12">
                            <label class="form-label">Mesajınız <span class="text-theme">*</span></label>
                            <textarea class="form-control form-control-lg fs-15px" rows="6" required></textarea>
                        </div>
                        <div class="col-12">
                            <button type="submit" class="btn btn-theme btn-lg btn-block px-4 fs-15px">Mesajı Gönder</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- İLETİŞİM BLOĞU BİTİŞ -->

@section Scripts {
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script>
        // Harita verilerini C# tarafından al
        var haritaVerileri = @Html.Raw(Json.Serialize(ViewBag.HaritaVerileri ?? new List<object>()));
        
        // Harita başlatma
        function initHarita() {
            // Türkiye'nin merkezi koordinatları (İstanbul)
            var map = L.map('harita').setView([41.0082, 28.9784], 10);
            
            // OpenStreetMap tile layer
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '© OpenStreetMap contributors'
            }).addTo(map);
            
            // Bildirim noktalarını ekle
            haritaVerileri.forEach(function(bildirim) {
                if (bildirim.latitude && bildirim.longitude) {
                    var status = bildirim.status;
                    var category = bildirim.category;
                    
                    // Duruma göre ikon rengi
                    var iconColor = 'blue';
                    switch(status) {
                        case 'Bekliyor':
                            iconColor = 'orange';
                            break;
                        case 'Alindi':
                            iconColor = 'blue';
                            break;
                        case 'Cozuldu':
                            iconColor = 'green';
                            break;
                    }
                    
                    // Özel ikon oluştur
                    var customIcon = L.divIcon({
                        className: 'custom-div-icon',
                        html: `<div style="background-color: ${iconColor}; width: 12px; height: 12px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.3);"></div>`,
                        iconSize: [12, 12],
                        iconAnchor: [6, 6]
                    });
                    
                    // Marker ekle
                    var marker = L.marker([bildirim.latitude, bildirim.longitude], {icon: customIcon})
                        .addTo(map)
                        .bindPopup(`
                            <div style="min-width: 200px;">
                                <h6 style="margin: 0 0 5px 0; color: #333;">${category}</h6>
                                <p style="margin: 0; font-size: 12px; color: #666;">
                                    Durum: <span style="color: ${iconColor}; font-weight: bold;">${status}</span>
                                </p>
                            </div>
                        `);
                }
            });
            
            // Harita kontrollerini özelleştir
            map.zoomControl.setPosition('bottomleft');
        }
        
        // Sayfa yüklendiğinde haritayı başlat
        document.addEventListener('DOMContentLoaded', function() {
            initHarita();
        });
        
        // Harita stil düzeltmeleri
        document.addEventListener('DOMContentLoaded', function() {
            var style = document.createElement('style');
            style.textContent = `
                .custom-div-icon {
                    background: transparent;
                    border: none;
                }
                .leaflet-popup-content-wrapper {
                    border-radius: 8px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                }
                .leaflet-popup-content {
                    margin: 8px 12px;
                }
            `;
            document.head.appendChild(style);
        });
    </script>
}

